import{c as n,a as t,o as r,d as y,i as d,y as b,j as w,k,F as h,e as C,t as l,x as I,l as q,v as S,b as N,u as $}from"./index-DQY0vYMB.js";function V(g,u){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}const L={class:"space-y-8"},R={key:0,class:"text-gray-600"},j={class:"space-y-4"},B=["src","alt"],M={class:"flex-1"},T={class:"text-xl font-semibold text-gray-900"},J={class:"text-green-600"},O={class:"flex items-center space-x-2"},U=["for"],A=["id","onUpdate:modelValue","onInput"],D=["onClick"],F={class:"bg-white p-6 rounded-lg shadow-md"},Q={class:"flex justify-between items-center mb-4"},E={class:"text-2xl font-bold text-green-600"},H={key:2,class:"fixed bottom-4 right-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-md",role:"alert"},P={class:"block sm:inline"},z=y({__name:"Cart",setup(g){const u=I(),s=d([]),i=d(!1),p=d(""),m=o=>{p.value=o,i.value=!0,setTimeout(()=>{i.value=!1},3e3)};b(()=>{const o=localStorage.getItem("techloot-cart");o&&(s.value=JSON.parse(o))});const v=w(()=>s.value.length===0?"Rs. 0":`Rs. ${s.value.reduce((a,e)=>{const c=parseInt(e.price.replace(/[^0-9]/g,""));return a+c*e.quantity},0).toLocaleString()}`),_=o=>{const a=s.value.findIndex(e=>e.id===o);if(a!==-1){const e=s.value[a];s.value.splice(a,1),localStorage.setItem("techloot-cart",JSON.stringify(s.value)),m(`Removed ${e.name} from cart`)}},f=o=>{o.quantity<1&&(o.quantity=1),localStorage.setItem("techloot-cart",JSON.stringify(s.value)),m(`Updated ${o.name} quantity to ${o.quantity}`)},x=()=>{u.push("/checkout")};return(o,a)=>(r(),n("div",L,[a[1]||(a[1]=t("h1",{class:"text-3xl font-bold text-gray-900"},"Shopping Cart",-1)),s.value.length===0?(r(),n("p",R,"Your cart is empty")):(r(),n(h,{key:1},[t("div",j,[(r(!0),n(h,null,C(s.value,e=>(r(),n("div",{key:e.id,class:"flex items-center space-x-4 bg-white p-4 rounded-lg shadow-md"},[t("img",{src:e.image,alt:e.name,class:"w-24 h-24 object-cover rounded-md"},null,8,B),t("div",M,[t("h2",T,l(e.name),1),t("p",J,l(e.price),1)]),t("div",O,[t("label",{for:`quantity-${e.id}`,class:"sr-only"},"Quantity",8,U),q(t("input",{type:"number",id:`quantity-${e.id}`,"onUpdate:modelValue":c=>e.quantity=c,min:"1",onInput:c=>f(e),class:"w-16 rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500"},null,40,A),[[S,e.quantity]]),t("button",{onClick:c=>_(e.id),class:"text-red-600 hover:text-red-700 p-2 rounded-full hover:bg-red-50 transition-colors",title:"Remove item"},[N($(V),{class:"w-5 h-5"})],8,D)])]))),128))]),t("div",F,[t("div",Q,[a[0]||(a[0]=t("span",{class:"text-xl font-semibold text-gray-900"},"Total:",-1)),t("span",E,l(v.value),1)]),t("button",{onClick:x,class:"w-full bg-green-600 text-white py-3 px-6 rounded-md hover:bg-green-700 transition-colors"}," Proceed to Checkout ")])],64)),i.value?(r(),n("div",H,[t("span",P,l(p.value),1)])):k("",!0)]))}});export{z as default};
